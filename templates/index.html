<!DOCTYPE html>
<html>
<head>
    <title>Weather app for farmers</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="homepageintro">
        <h1>Welcome to FarmWeatherHub</h1>
        <h2>Register as a farmer!</h2>
    </div>
    <div class="container c1">
        <form method="POST" action="{{ url_for('farmer_registration') }}" onsubmit="return validateForm()">
           <div class="mb-3">
              <label for="aadharID" class="form-label">Aadhar ID:</label>
              <input type="text" name="aadharID" id="aadharID" class="form-control" required>
           </div>
           <div class="mb-3">
              <label for="password" class="form-label">Password:</label>
              <input type="password" name="password" id="password" class="form-control" required>
           </div>
           <div class="mb-3">
              <label for="phone" class="form-label">Phone:</label>
              <input type="text" name="phone" id="phone" class="form-control" required>
           </div>
           <div class="mb-3">
              <label for="gender" class="form-label">Gender:</label>
              <select name="gender" id="gender" class="form-select" required>
                 <option value="Male">Male</option>
                 <option value="Female">Female</option>
                 <option value="Other">Other</option>
              </select>
           </div>
           <div class="mb-3">
              <label for="fname" class="form-label">First Name:</label>
              <input type="text" name="fname" id="fname" class="form-control" required>
           </div>
           <div class="mb-3">
              <label for="lname" class="form-label">Last Name:</label>
              <input type="text" name="lname" id="lname" class="form-control" required>
           </div>
           <div class="mb-3">
              <label for="age" class="form-label">Age:</label>
              <input type="number" name="age" id="age" class="form-control" required>
           </div>
           <br>
           <p>Please note that in order to register as a farmer you need to disclose at least one land!</p>
           <div class="mb-3">
            <label for="landid" class="form-label">Land ID:</label>
            <input type="number" name="landid" id="landid" class="form-control" required>
           </div>
           <div class="mb-3">
            <label for="city" class="form-label">City:</label>
            <input type="text" name="city" id="city" class="form-control" required>
           </div>
           <div class="mb-3">
            <label for="soiltype" class="form-label">Soil type:</label>
            <input type="text" name="soiltype" id="soiltype" class="form-control" required>
           </div>
           <div class="text-center">
            <button type="submit" class="btn btn-primary">Submit</button>
           </div>
           <br>
           <p class="text-center">Already have an account? <a href="{{ url_for('farmer_login') }}">Login</a></p>
         </form>
     </div>
    <br>
    <br>
    <div id="disp_farmers">
      <a href="{{ url_for('display_farmers') }}">View farmer list</a>
    </div>

    <script>
        function validateForm() {
            var aadharID = document.getElementById("aadharID").value;
            var phone = document.getElementById("phone").value;
            var password = document.getElementById("password").value;

            // Validate Aadhar ID (should be 12 digits)
            if (aadharID.length !== 12) {
                alert("Aadhar ID should be 12 digits.");
                return false;
            }

            // Validate phone number (should be 10 digits)
            if (phone.length !== 10) {
                alert("Phone number should be 10 digits.");
                return false;
            }

            // Validate password (should be strong, e.g., at least 8 characters with a mix of letters, numbers, and symbols)
            var passwordPattern = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/;
            if (!password.match(passwordPattern)) {
                alert("Password should be strong (at least 8 characters with a mix of letters, numbers, and symbols).");
                return false;
            }

            return true;
        }
    </script>
</body>
</html>
